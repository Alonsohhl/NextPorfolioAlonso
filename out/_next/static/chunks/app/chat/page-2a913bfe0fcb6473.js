(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{9906:function(e,s,a){Promise.resolve().then(a.bind(a,5040))},5040:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return i}});var r=a(3827),n=a(9101),t=a(4090);let l={system:"red",user:"black",assistant:"green",function:"",data:"",tool:""};function i(){let{status:e,messages:s,input:a,submitMessage:i,handleInputChange:d,error:o}=(0,n.SA)({api:"/api/assistant"}),c=(0,t.useRef)(null);return(0,t.useEffect)(()=>{if("awaiting_message"===e){var s;null===(s=c.current)||void 0===s||s.focus()}},[e]),(0,r.jsxs)("div",{className:"flex flex-col w-full max-w-md py-24 mx-auto stretch",children:[null!=o&&(0,r.jsx)("div",{className:"relative bg-red-500 text-white px-6 py-4 rounded-md",children:(0,r.jsxs)("span",{className:"block sm:inline",children:["Error: ",o.toString()]})}),s.map(e=>(0,r.jsxs)("div",{className:"whitespace-pre-wrap",style:{color:l[e.role]},children:[(0,r.jsx)("strong",{children:"".concat(e.role,": ")}),"data"!==e.role&&e.content,"data"===e.role&&(0,r.jsxs)(r.Fragment,{children:[e.data.description,(0,r.jsx)("br",{}),(0,r.jsx)("pre",{className:"bg-gray-200",children:JSON.stringify(e.data,null,2)})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]},e.id)),"in_progress"===e&&(0,r.jsx)("div",{className:"h-8 w-full max-w-md p-2 mb-8 bg-gray-300 dark:bg-gray-600 rounded-lg animate-pulse"}),(0,r.jsx)("form",{onSubmit:i,children:(0,r.jsx)("input",{ref:c,disabled:"awaiting_message"!==e,className:"fixed bottom-0 w-full max-w-md p-2 mb-8 border border-gray-300 rounded shadow-xl",value:a,placeholder:"What is the temperature in the living room?",onChange:d})})]})}}},function(e){e.O(0,[101,971,69,744],function(){return e(e.s=9906)}),_N_E=e.O()}]);